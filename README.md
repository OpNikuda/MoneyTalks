# üè¶ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

[![Python](https://img.shields.io/badge/Python-3.12%2B-blue?logo=python)](https://www.python.org/)
[![Pandas](https://img.shields.io/badge/Pandas-Data%20Analysis-orange?logo=pandas)](https://pandas.pydata.org/)
[![Pytest](https://img.shields.io/badge/Pytest-Testing%20Suite-green?logo=pytest)](https://docs.pytest.org/)
[![License](https://img.shields.io/badge/License-MIT-lightgrey)](LICENSE)

**–ú–æ—â–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤**, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π —Å—ã—Ä—É—é –≤—ã–≥—Ä—É–∑–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π –∏–∑ –¢–∏–Ω—å–∫–æ—Ñ—Ñ-–±–∞–Ω–∫–∞ –≤ –Ω–∞–≥–ª—è–¥–Ω—ã–µ –æ—Ç—á–µ—Ç—ã, —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ insights –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã.

---

## üöÄ 5 –ö–†–£–¢–´–• –§–ò–®–ï–ö

1.  [**üìä –£–º–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ç –ø–æ –∫–∞—Ä—Ç–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**](#-—É–º–Ω–∞—è-–¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è-—Ç—Ä–∞—Ç-–ø–æ-–∫–∞—Ä—Ç–∞–º-–∏-–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)
2.  [**ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤**](#-–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è-–æ—Ç—á–µ—Ç–æ–≤)
3.  [**üìà –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ API**](#-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏-api)
4.  [**üéØ –ì–∏–±–∫–∏–π –ø–æ–∏—Å–∫ –∏ —Å–µ—Ä–≤–∏—Å—ã**](#-–≥–∏–±–∫–∏–π-–ø–æ–∏—Å–∫-–∏-—Å–µ—Ä–≤–∏—Å—ã)
5.  [**üß™ –í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**](#-–≤—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

---

## üìä –£–º–Ω–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞—Ç –ø–æ –∫–∞—Ä—Ç–∞–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ –∫–∞—Ä—Ç–∞–º, —Ä–∞—Å—á–µ—Ç –∫–µ—à–±—ç–∫–∞ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ —Å–∞–º—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É)
python -m src.main data/operations.csv
```

```bash
# –ó–∞–ø—É—Å–∫ –æ—Ç—á–µ—Ç–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç—ã
python -m src.main data/operations.csv --date 2024-03-01
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```json
{
  "greeting": "–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä",
  "cards": [
    {
      "last_digits": "****5678",
      "total_spent": 15430.50,
      "cashback": 154.31
    }
  ],
  "top_transactions": [
    {
      "date": "2024-03-15",
      "amount": -12000.0,
      "category": "electronics",
      "description": "–ù–æ—É—Ç–±—É–∫"
    }
  ]
}
```

---

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

–î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@report_to_file` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ—Ç—á–µ—Ç—ã –≤ CSV/Excel.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```python
from src.reports import spending_by_category, spending_by_weekday

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª 'weekly_spending.csv'
df = spending_by_weekday('data/operations.csv', skip_save=False)

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª Excel
df = spending_by_category(
    'data/operations.csv', 
    category='–°—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ã', 
    filename='supermarket_report.xlsx'
)
```

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ generated `weekly_spending.csv`:**
```csv
–î–µ–Ω—å_–Ω–µ–¥–µ–ª–∏,–°—Ä–µ–¥–Ω–∏–π_—Ä–∞—Å—Ö–æ–¥
Monday,1250.50
Tuesday,980.30
Wednesday,1540.20
...
```

---

## üìà –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ API

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç –∏ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –∞–∫—Ü–∏–π.

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ API:**
```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ .env.example –≤ .env
# 2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à API-–∫–ª—é—á –æ—Ç Alpha Vantage
CURRENCY_API_KEY=your_actual_api_key_here
STOCK_API_KEY=your_actual_api_key_here
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ API:**
```json
{
  "currency_rates": [
    {"currency": "USD", "rate": 75.50},
    {"currency": "EUR", "rate": 85.20}
  ],
  "stock_prices": [
    {"stock": "AAPL", "price": 150.12},
    {"stock": "TSLA", "price": 210.75}
  ]
}
```

---

## üéØ –ì–∏–±–∫–∏–π –ø–æ–∏—Å–∫ –∏ —Å–µ—Ä–≤–∏—Å—ã

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —É–≥–ª—É–±–ª–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤.

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:**
```python
from src.services import analyze_cashback_categories, simple_search

# –ê–Ω–∞–ª–∏–∑ –≤—ã–≥–æ–¥–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –∫–µ—à–±—ç–∫–∞ 5%
cashback_analysis = analyze_cashback_categories(
    transactions_data, 
    year=2024, 
    month=3
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: {'food': 125.0, 'transport': 85.50}

# –ü–æ–∏—Å–∫ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
search_results = simple_search(
    '–ü—è—Ç–µ—Ä–æ—á–∫–∞', 
    transactions_data
)
# –ù–∞–π–¥–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º "–ü—è—Ç–µ—Ä–æ—á–∫–∞"
```

**–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–ø–∏–ª–∫–∞:**
```python
from src.services import investment_bank

# –†–∞—Å—á–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ —Ç—Ä–∞—Ç –¥–æ 100 —Ä—É–±–ª–µ–π
savings = investment_bank(
    '2024-03', 
    transactions_data, 
    limit=100
)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 243.0 (—Å—É–º–º–∞ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–π –∑–∞ –º–µ—Å—è—Ü)
```

---

## üß™ –í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∫–æ–¥–∞.

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
pytest tests/ -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–¥—É–ª—å
pytest tests/test_utils.py -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
pytest --cov=src tests/
```

**–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞:**
```python
# tests/test_utils.py
def test_mask_card_number():
    """–¢–µ—Å—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –Ω–æ–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã"""
    assert mask_card_number('1234567812345678') == '****5678'
    assert mask_card_number('') == ""
    assert mask_card_number(None) == ""
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
git clone <your-repo-url>
cd bank-transaction-analyser

python -m venv venv
source venv/bin/activate  # Linux/MacOS
# venv\Scripts\activate   # Windows

pip install -r requirements.txt
```

**2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:**
```bash
# –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à—É –≤—ã–≥—Ä—É–∑–∫—É –∏–∑ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –≤ –ø–∞–ø–∫—É data
cp ~/Downloads/operations.csv data/
```

**3. –ó–∞–ø—É—Å–∫:**
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ç—á–µ—Ç
python -m src.main data/operations.csv

# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º
python -m src.main --help
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bank-transaction-analyser/
‚îÇ
‚îú‚îÄ‚îÄ data/                 # –î–∞–Ω–Ω—ã–µ (–≤—ã–≥—Ä—É–∑–∫–∏ –∏–∑ –±–∞–Ω–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ operations.csv    # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞
‚îÇ
‚îú‚îÄ‚îÄ src/                  # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
‚îÇ   ‚îú‚îÄ‚îÄ utils.py         # –£—Ç–∏–ª–∏—Ç—ã (–∑–∞–≥—Ä—É–∑–∫–∞, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ reports.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ views.py         # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è UI
‚îÇ   ‚îî‚îÄ‚îÄ services.py      # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ
‚îú‚îÄ‚îÄ tests/               # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_main.py
‚îÇ   ‚îú‚îÄ‚îÄ test_utils.py
‚îÇ   ‚îú‚îÄ‚îÄ test_reports.py
‚îÇ   ‚îú‚îÄ‚îÄ test_services.py
‚îÇ   ‚îî‚îÄ‚îÄ test_views.py
‚îÇ
‚îú‚îÄ‚îÄ flake8     # –ù–∞–±–æ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø–æ –∫–æ–¥—É
‚îú‚îÄ‚îÄ .env.template        # –ü—Ä–∏–º–µ—Ä env-—Ñ–∞–π–ª–∞
‚îî‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

---

## ü§ù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
pip install -r requirements.txt
pip install -e .  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞:**
```python
# 1. –î–æ–±–∞–≤—å—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ src/reports.py
@report_to_file("my_report.csv")
def my_new_report(file_path, **kwargs):
    transactions = kwargs['transactions']
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    return result_df

# 2. –ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ—Å—Ç—ã –≤ tests/test_reports.py
def test_my_new_report():
    # –¢–µ—Å—Ç–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
    pass
```

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ —Ñ–∞–π–ª–µ MIT license.
